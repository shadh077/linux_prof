Резервное копирование.

Создаётся стенд с двумя виртуальными машинами - backup и client.

Реализовано:
- настроен удаленный бекап каталога /etc c сервера client при помощи borgbackup
- директория для резервных копий на сервере backup /var/backup отдельный том lvm и точка монтирования
- репозиторий для резервных копий зашифрован ключом
- имя резервной копии содержит информацию о времени его создания
- глубина бекапа год, хранятся последние 12 месяцев
- последние три месяца содержат копии на каждый день
- резервная копия снимается каждые 5 минут, в целях демонстрации: созданы юниты systemd (service и timer)

Клонировать репозиторий и выполнить vagrant up из каталога с уроком.
После создания виртуалок зайти на клиент командой 'vagrant ssh client' и выполнить блок команд:

```
sudo -i
ssh-copy-id -i ~/.ssh/id_rsa.pub borg@192.168.56.10 (использовать пароль borg)
borg init --encryption=repokey borg@192.168.56.10:/var/backup/ (установив пароль borg, для удобства)
systemctl enable borg-backup.timer 
systemctl start borg-backup.timer
systemctl start borg-backup.service
```
Проверять результат можно след. командами (обращая внимание на время бэкапов):
Проверим что резервная копия сделана 'borg list borg@192.168.56.10:/var/backup/'
Спустя 10 минут, что резервная копия была снята еще раз 'systemctl list-timers --all'

Для восстановление, например файла hostname, нужно выполнить команду 'borg extract borg@192.168.56.10:/var/backup/::etc-2024-04-26_11:59:57 etc/hostname'
Файл восстановится в текущий каталог, откуда его нужно скопировать в правильное место.